####This pipeline is created and maintained by Harish V G
#### for any issues or queries write to harishvg2002@gmail.com


# ================================
# REQUIREMENTS FOR VARIANT PIPELINE
# ================================
# This file installs all required tools and downloads reference data.
# Run inside the "gvar" environment.

# --------------------
# TOOLS INSTALLATION
# --------------------
mamba install -c bioconda sra-tools -y
mamba install -c conda-forge pigz -y
mamba install -c bioconda fastqc -y
mamba install -c bioconda trimmomatic -y
mamba install -c bioconda bwa -y
mamba install -c bioconda samtools -y
mamba install -c bioconda picard -y
mamba install -c bioconda gatk4 -y
mamba install -c bioconda bcftools -y

# --------------------
# DIRECTORIES
# --------------------
mkdir -p ~/input
mkdir -p ~/results/fastqc
mkdir -p ~/results/trim
mkdir -p ~/results/reference
mkdir -p ~/results/alignment
mkdir -p ~/results/bam
mkdir -p ~/results/vcf

# --------------------
# REFERENCE FILES (hg38 bundle from Broad Institute)
# --------------------
# Contains genome FASTA, dbSNP, known indels, training datasets for BQSR
wget -c \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/1000G.phase3.integrated.sites_only.no_MATCHED_REV.hg38.vcf \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/1000G.phase3.integrated.sites_only.no_MATCHED_REV.hg38.vcf.idx \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/1000G_omni2.5.hg38.vcf.gz \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/1000G_omni2.5.hg38.vcf.gz.tbi \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/1000G_phase1.snps.high_confidence.hg38.vcf.gz \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/1000G_phase1.snps.high_confidence.hg38.vcf.gz.tbi \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/Axiom_Exome_Plus.genotypes.all_populations.poly.hg38.vcf.gz \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/Axiom_Exome_Plus.genotypes.all_populations.poly.hg38.vcf.gz.tbi \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/hapmap_3.3.hg38.vcf.gz \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/hapmap_3.3.hg38.vcf.gz.tbi \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/Homo_sapiens_assembly38.dbsnp138.vcf \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/Homo_sapiens_assembly38.dbsnp138.vcf.idx \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/Homo_sapiens_assembly38.dict \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/Homo_sapiens_assembly38.fasta* \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/Homo_sapiens_assembly38.known_indels.vcf.gz* \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/Mills_and_1000G_gold_standard.indels.hg38.vcf.gz* \
  https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/wgs_calling_regions.hg38.interval_list

